<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SICCHA STREAMING - ¬°FELIZ 2026! üéä</title>
  <style>
    :root{
      --bg:#0a0e1a;
      --panel:rgba(20,25,45,.95);
      --text:#ffffff;
      --muted:#a8b2d1;
      --gold:#ffd700;
      --purple:#9b59b6;
      --pink:#ff1493;
      --cyan:#00d9ff;
      --neon-blue:#00ffff;
      --neon-purple:#bf00ff;
      --glass-bg:rgba(255,255,255,.08);
      --glass-border:rgba(255,255,255,.18);
    }

    /* Animaciones base */
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-15px) rotate(3deg); }
    }

    @keyframes glow {
      0%, 100% { box-shadow: 0 0 20px var(--gold), 0 0 40px rgba(255,215,0,.3); }
      50% { box-shadow: 0 0 40px var(--gold), 0 0 80px var(--pink); }
    }

    @keyframes slideDown {
      from { transform: translateY(-50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }

    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.08); }
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    @keyframes shimmer {
      0% { background-position: -1000px 0; }
      100% { background-position: 1000px 0; }
    }

    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    /* Animaci√≥n de vuelo al carrito */
    @keyframes flyToCart {
      0% {
        transform: translate(0, 0) scale(1) rotate(0deg);
        opacity: 1;
      }
      50% {
        transform: translate(var(--tx), var(--ty)) scale(0.8) rotate(180deg);
        opacity: 0.8;
      }
      100% {
        transform: translate(var(--tx), var(--ty)) scale(0.2) rotate(360deg);
        opacity: 0;
      }
    }

    @keyframes ripple {
      0% {
        transform: translate(-50%, -50%) scale(0);
        opacity: 1;
      }
      100% {
        transform: translate(-50%, -50%) scale(4);
        opacity: 0;
      }
    }

    @keyframes holographic {
      0% { filter: hue-rotate(0deg); }
      100% { filter: hue-rotate(360deg); }
    }

    @keyframes badgePop {
      0% { transform: scale(1); }
      50% { transform: scale(1.4) rotate(10deg); }
      100% { transform: scale(1) rotate(0deg); }
    }

    /* ========== ANIMACIONES PARA EL CARRITO ========== */
    
    /* Shake (Temblor horizontal y vertical) */
    @keyframes cartShake {
      0%, 100% { transform: translateY(0) translateX(0) rotate(0deg); }
      10% { transform: translateY(-8px) translateX(-8px) rotate(-5deg); }
      20% { transform: translateY(8px) translateX(8px) rotate(5deg); }
      30% { transform: translateY(-8px) translateX(8px) rotate(-5deg); }
      40% { transform: translateY(8px) translateX(-8px) rotate(5deg); }
      50% { transform: translateY(-6px) translateX(-6px) rotate(-3deg); }
      60% { transform: translateY(6px) translateX(6px) rotate(3deg); }
      70% { transform: translateY(-4px) translateX(4px) rotate(-2deg); }
      80% { transform: translateY(4px) translateX(-4px) rotate(2deg); }
      90% { transform: translateY(-2px) translateX(-2px) rotate(-1deg); }
    }

    /* Brillo s√∫per intenso */
    @keyframes cartMegaGlow {
      0% { 
        box-shadow: 0 8px 25px rgba(255,215,0,.5);
        filter: brightness(1);
      }
      25% { 
        box-shadow: 0 0 60px rgba(255,215,0,1), 
                    0 0 100px rgba(0,217,255,0.8),
                    0 0 140px rgba(255,20,147,0.6),
                    inset 0 0 30px rgba(255,255,255,0.5);
        filter: brightness(1.5);
      }
      50% { 
        box-shadow: 0 0 80px rgba(255,215,0,1), 
                    0 0 120px rgba(0,217,255,1),
                    0 0 160px rgba(255,20,147,0.8),
                    inset 0 0 40px rgba(255,255,255,0.7);
        filter: brightness(2);
      }
      75% { 
        box-shadow: 0 0 60px rgba(255,215,0,1), 
                    0 0 100px rgba(0,217,255,0.8),
                    0 0 140px rgba(255,20,147,0.6),
                    inset 0 0 30px rgba(255,255,255,0.5);
        filter: brightness(1.5);
      }
      100% { 
        box-shadow: 0 8px 25px rgba(255,215,0,.5);
        filter: brightness(1);
      }
    }

    /* Escala y rotaci√≥n del bot√≥n */
    @keyframes cartBounce {
      0%, 100% { transform: scale(1) rotate(0deg); }
      25% { transform: scale(1.2) rotate(10deg); }
      50% { transform: scale(1.15) rotate(-10deg); }
      75% { transform: scale(1.25) rotate(5deg); }
    }

    /* Ondas expansivas desde el bot√≥n */
    @keyframes cartWave {
      0% {
        width: 0;
        height: 0;
        opacity: 0.8;
      }
      50% {
        opacity: 0.4;
      }
      100% {
        width: 300px;
        height: 300px;
        opacity: 0;
      }
    }

    /* Mensaje flotante que aparece DEBAJO */
    @keyframes floatMessageBelow {
      0% {
        transform: translate(-50%, -20px) scale(0);
        opacity: 0;
      }
      20% {
        transform: translate(-50%, 10px) scale(1.1);
        opacity: 1;
      }
      80% {
        transform: translate(-50%, 30px) scale(1);
        opacity: 1;
      }
      100% {
        transform: translate(-50%, 50px) scale(0.8);
        opacity: 0;
      }
    }

    /* Part√≠culas que explotan del carrito */
    @keyframes particleExplosion {
      0% {
        transform: translate(0, 0) scale(1);
        opacity: 1;
      }
      100% {
        transform: translate(var(--px), var(--py)) scale(0);
        opacity: 0;
      }
    }

    /* Rotaci√≥n del badge */
    @keyframes badgeSpin {
      0% { transform: scale(1) rotate(0deg); }
      25% { transform: scale(1.5) rotate(90deg); }
      50% { transform: scale(1.3) rotate(180deg); }
      75% { transform: scale(1.6) rotate(270deg); }
      100% { transform: scale(1) rotate(360deg); }
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    html, body { 
      height: 100%; 
      font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
      overflow-x: hidden;
    }
    
    body {
      background: linear-gradient(135deg, #0a0e1a 0%, #1a1f35 30%, #2a1f45 60%, #1a0f2e 100%);
      background-size: 400% 400%;
      animation: gradient 20s ease infinite;
      color: var(--text);
      min-height: 100vh;
      position: relative;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        radial-gradient(circle at 20% 30%, rgba(255,215,0,0.2) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(0,217,255,0.2) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(191,0,255,0.15) 0%, transparent 50%),
        radial-gradient(circle at 10% 80%, rgba(255,20,147,0.15) 0%, transparent 50%);
      pointer-events: none;
      z-index: 1;
      animation: pulse 10s ease-in-out infinite;
    }

    body > * {
      position: relative;
      z-index: 2;
    }

    /* Topbar mejorado con glassmorphism */
    .topbar {
      background: var(--glass-bg);
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      border-bottom: 2px solid var(--glass-border);
      box-shadow: 0 8px 32px rgba(0,0,0,.2), inset 0 1px 0 rgba(255,255,255,.1);
      position: sticky;
      top: 0;
      z-index: 100;
      animation: slideDown 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .topbar-inner {
      max-width: 1400px;
      margin: 0 auto;
      padding: 18px 30px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 20px;
      flex-wrap: wrap;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 15px;
      font-size: 24px;
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: 3px;
      background: linear-gradient(135deg, var(--gold), var(--cyan), var(--pink), var(--gold));
      background-size: 300% 300%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: gradient 8s ease infinite, holographic 10s linear infinite;
      filter: drop-shadow(0 0 10px rgba(255,215,0,0.5));
    }

    .logo-dot {
      width: 20px;
      height: 20px;
      background: linear-gradient(135deg, var(--gold), var(--pink));
      border-radius: 50%;
      animation: glow 2s infinite, bounce 2s infinite;
      box-shadow: 0 0 20px var(--gold);
    }

    .nav {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .nav a {
      padding: 12px 24px;
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1.5px solid var(--glass-border);
      border-radius: 30px;
      color: var(--text);
      text-decoration: none;
      font-weight: 700;
      font-size: 14px;
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      position: relative;
      overflow: hidden;
    }

    .nav a::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: radial-gradient(circle, rgba(255,215,0,0.3), transparent);
      border-radius: 50%;
      transition: width 0.6s, height 0.6s;
      transform: translate(-50%, -50%);
    }

    .nav a:hover::before {
      width: 300px;
      height: 300px;
    }

    .nav a:hover {
      background: rgba(255,215,0,.15);
      border-color: var(--gold);
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(255,215,0,0.4);
    }

    .cart-btn {
      background: linear-gradient(135deg, var(--gold) 0%, #ffed4e 50%, var(--gold) 100%);
      background-size: 200% 200%;
      animation: gradient 3s ease infinite;
      border: none;
      padding: 14px 28px;
      border-radius: 35px;
      color: #000;
      font-weight: 900;
      font-size: 16px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 12px;
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      box-shadow: 0 8px 25px rgba(255,215,0,.5);
      position: relative;
      overflow: visible;
    }

    .cart-btn::before {
      content: '';
      position: absolute;
      inset: -2px;
      background: linear-gradient(45deg, var(--pink), var(--cyan), var(--gold), var(--pink));
      background-size: 400%;
      border-radius: 35px;
      z-index: -1;
      opacity: 0;
      transition: opacity 0.4s;
      animation: gradient 3s linear infinite;
    }

    .cart-btn:hover::before {
      opacity: 1;
    }

    .cart-btn:hover {
      transform: translateY(-4px) scale(1.05);
      box-shadow: 0 12px 40px rgba(255,215,0,.7);
    }

    /* ========== CLASES PARA ANIMACI√ìN DEL CARRITO ========== */
    
    .cart-btn.cart-active {
      animation: 
        cartShake 0.8s cubic-bezier(.36,.07,.19,.97),
        cartMegaGlow 1.5s ease-in-out,
        cartBounce 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    /* Ondas expansivas del carrito */
    .cart-wave {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border: 3px solid var(--gold);
      border-radius: 50%;
      pointer-events: none;
      animation: cartWave 1s ease-out forwards;
    }

    /* Mensaje flotante DEBAJO del bot√≥n */
    .cart-message {
      position: absolute;
      top: 100%; /* Debajo del bot√≥n */
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, var(--gold), var(--cyan));
      color: #000;
      padding: 16px 32px;
      border-radius: 30px;
      font-weight: 900;
      font-size: 16px;
      white-space: nowrap;
      box-shadow: 0 10px 40px rgba(255,215,0,0.9);
      animation: floatMessageBelow 3s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
      pointer-events: none;
      z-index: 10000;
      letter-spacing: 1px;
      margin-top: 10px; /* Espacio desde el bot√≥n */
    }

    /* Part√≠culas explosivas */
    .cart-particle {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 10px;
      height: 10px;
      background: var(--gold);
      border-radius: 50%;
      pointer-events: none;
      animation: particleExplosion 1s ease-out forwards;
      box-shadow: 0 0 10px var(--gold);
    }

    .badge {
      background: linear-gradient(135deg, #ff1493, #ff6b9d);
      color: white;
      min-width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 15px;
      font-weight: 900;
      box-shadow: 0 4px 15px rgba(255,20,147,0.6), inset 0 -2px 5px rgba(0,0,0,.2);
      transition: all 0.3s;
    }

    .badge.animate {
      animation: badgeSpin 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    /* Banner mejorado */
    .banner {
      text-align: center;
      padding: 50px 30px 40px;
      max-width: 1400px;
      margin: 0 auto;
      animation: fadeIn 1.2s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .banner h1 {
      font-size: 64px;
      font-weight: 900;
      background: linear-gradient(135deg, 
        var(--gold) 0%, 
        var(--pink) 25%, 
        var(--cyan) 50%, 
        var(--neon-purple) 75%, 
        var(--gold) 100%);
      background-size: 300% 300%;
      animation: gradient 6s ease infinite;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 20px;
      text-transform: uppercase;
      letter-spacing: 4px;
      line-height: 1.1;
      filter: drop-shadow(0 0 40px rgba(255,215,0,0.6));
      text-shadow: 0 0 80px rgba(255,215,0,0.8);
    }

    .banner p {
      font-size: 19px;
      color: var(--muted);
      max-width: 750px;
      margin: 0 auto 30px;
      line-height: 1.7;
      font-weight: 400;
    }

    .banner-features {
      display: flex;
      gap: 18px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 30px;
    }

    .feature {
      background: var(--glass-bg);
      backdrop-filter: blur(15px);
      border: 2px solid var(--glass-border);
      padding: 14px 26px;
      border-radius: 35px;
      font-weight: 800;
      font-size: 15px;
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      animation: float 4s ease-in-out infinite;
      box-shadow: 0 8px 20px rgba(0,0,0,.2);
    }

    .feature:nth-child(1) { animation-delay: 0s; }
    .feature:nth-child(2) { animation-delay: 0.7s; }
    .feature:nth-child(3) { animation-delay: 1.4s; }

    .feature:hover {
      transform: translateY(-8px) scale(1.08);
      box-shadow: 0 15px 40px rgba(255,215,0,0.5);
      background: rgba(255,215,0,.2);
      border-color: var(--gold);
    }

    /* Productos con glassmorphism */
    .products-section {
      max-width: 1400px;
      margin: 0 auto;
      padding: 40px 30px 50px;
    }

    .section-title {
      font-size: 38px;
      font-weight: 900;
      text-align: center;
      margin-bottom: 45px;
      background: linear-gradient(135deg, var(--gold), var(--cyan));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-transform: uppercase;
      letter-spacing: 3px;
      animation: pulse 4s infinite;
      filter: drop-shadow(0 0 30px rgba(255,215,0,0.6));
    }

    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 30px;
    }

    .product-card {
      background: var(--glass-bg);
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      border: 2px solid var(--glass-border);
      border-radius: 28px;
      padding: 28px;
      transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
      animation: fadeIn 1s ease;
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 32px rgba(0,0,0,.3);
    }

    .product-card::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, 
        transparent 30%, 
        rgba(255,215,0,0.15) 50%, 
        transparent 70%);
      transform: rotate(45deg);
      transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .product-card:hover::before {
      left: 100%;
    }

    .product-card:hover {
      transform: translateY(-12px) scale(1.02);
      border-color: var(--gold);
      box-shadow: 0 25px 60px rgba(255,215,0,.4), 
                  inset 0 1px 0 rgba(255,255,255,.2);
    }

    .product-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 24px;
      position: relative;
      z-index: 1;
    }

    .product-logo {
      width: 110px;
      height: 110px;
      background: rgba(255,255,255,.08);
      border: 2px solid var(--glass-border);
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
      box-shadow: 0 8px 20px rgba(0,0,0,.2);
      position: relative;
    }

    .product-card:hover .product-logo {
      transform: scale(1.15) rotate(8deg);
      border-color: var(--gold);
      box-shadow: 0 12px 35px rgba(255,215,0,0.4);
    }

    .product-logo img {
      width: 90%;
      height: 90%;
      object-fit: contain;
      transition: transform 0.5s;
    }

    .product-card:hover .product-logo img {
      transform: scale(1.1);
    }

    .product-logo-text {
      font-size: 18px;
      font-weight: 900;
      color: var(--gold);
      text-align: center;
      padding: 10px;
    }

    .product-tag {
      background: linear-gradient(135deg, var(--gold), #ffed4e);
      color: #000;
      padding: 10px 20px;
      border-radius: 25px;
      font-size: 12px;
      font-weight: 900;
      text-transform: uppercase;
      animation: pulse 2.5s infinite;
      box-shadow: 0 6px 20px rgba(255,215,0,0.5);
    }

    .product-tag.agotado {
      background: linear-gradient(135deg, #e74c3c, #c0392b);
      color: white;
      animation: none;
    }

    .product-info {
      margin-bottom: 24px;
      position: relative;
      z-index: 1;
    }

    .product-name {
      font-size: 22px;
      font-weight: 900;
      margin-bottom: 10px;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      color: #fff;
    }

    .product-price {
      font-size: 48px;
      font-weight: 900;
      background: linear-gradient(135deg, var(--gold), var(--cyan));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 10px;
      filter: drop-shadow(0 0 20px rgba(255,215,0,0.6));
    }

    .product-desc {
      color: var(--muted);
      font-size: 15px;
      line-height: 1.6;
    }

    .product-actions {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      position: relative;
      z-index: 1;
    }

    .btn {
      flex: 1;
      min-width: 140px;
      padding: 16px 20px;
      border: none;
      border-radius: 18px;
      font-weight: 900;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      text-transform: uppercase;
      position: relative;
      overflow: hidden;
      letter-spacing: 0.5px;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: radial-gradient(circle, rgba(255,255,255,0.3), transparent);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    .btn:hover::before {
      width: 400px;
      height: 400px;
    }

    .btn-add {
      background: rgba(0,217,255,.15);
      border: 2px solid var(--cyan);
      color: var(--cyan);
      box-shadow: 0 4px 15px rgba(0,217,255,0.3);
    }

    .btn-add:hover:not(:disabled) {
      background: rgba(0,217,255,.25);
      transform: translateY(-4px);
      box-shadow: 0 12px 30px rgba(0,217,255,0.5);
    }

    .btn-buy {
      background: linear-gradient(135deg, var(--gold), #ffed4e);
      color: #000;
      box-shadow: 0 4px 15px rgba(255,215,0,0.4);
    }

    .btn-buy:hover:not(:disabled) {
      transform: translateY(-4px) scale(1.05);
      box-shadow: 0 12px 35px rgba(255,215,0,.6);
    }

    .btn:disabled {
      opacity: 0.4;
      cursor: not-allowed;
      filter: grayscale(1);
    }

    .btn:disabled:hover {
      transform: none;
    }

    /* Elemento que vuela al carrito */
    .flying-item {
      position: fixed;
      pointer-events: none;
      z-index: 9999;
      animation: flyToCart 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    }

    .flying-item img {
      width: 80px;
      height: 80px;
      object-fit: contain;
      filter: drop-shadow(0 0 20px var(--gold));
    }

    /* Notificaci√≥n de √©xito */
    .success-notification {
      position: fixed;
      top: 100px;
      right: 30px;
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 2px solid var(--gold);
      border-radius: 20px;
      padding: 20px 30px;
      color: var(--gold);
      font-weight: 900;
      font-size: 16px;
      box-shadow: 0 10px 40px rgba(255,215,0,0.5);
      z-index: 9999;
      animation: slideDown 0.5s cubic-bezier(0.16, 1, 0.3, 1), fadeIn 0.5s;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    /* Drawer mejorado */
    .drawer-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.85);
      backdrop-filter: blur(8px);
      z-index: 200;
      display: none;
    }

    .drawer {
      position: fixed;
      top: 0;
      right: -650px;
      width: 650px;
      max-width: 95vw;
      height: 100%;
      background: rgba(10,14,26,.98);
      backdrop-filter: blur(20px);
      border-left: 3px solid var(--gold);
      z-index: 201;
      transition: right 0.5s cubic-bezier(0.16, 1, 0.3, 1);
      display: flex;
      flex-direction: column;
      box-shadow: -15px 0 60px rgba(255,215,0,0.3);
    }

    .drawer.open { right: 0; }

    .drawer-header {
      padding: 35px;
      border-bottom: 2px solid var(--glass-border);
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--glass-bg);
      backdrop-filter: blur(15px);
    }

    .drawer-title {
      font-size: 30px;
      font-weight: 900;
      background: linear-gradient(135deg, var(--gold), var(--cyan));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      filter: drop-shadow(0 0 20px rgba(255,215,0,0.6));
    }

    .close-btn {
      background: rgba(255,255,255,.1);
      border: 2px solid rgba(255,255,255,.3);
      padding: 12px 24px;
      border-radius: 15px;
      color: white;
      font-weight: 900;
      cursor: pointer;
      transition: all 0.4s;
      font-size: 18px;
    }

    .close-btn:hover {
      background: rgba(255,255,255,.2);
      transform: rotate(90deg) scale(1.1);
      border-color: var(--gold);
    }

    .drawer-body {
      flex: 1;
      overflow-y: auto;
      padding: 35px;
    }

    .cart-item {
      background: var(--glass-bg);
      backdrop-filter: blur(15px);
      border: 2px solid var(--glass-border);
      border-radius: 20px;
      padding: 24px;
      margin-bottom: 24px;
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      box-shadow: 0 8px 20px rgba(0,0,0,.3);
    }

    .cart-item:hover {
      border-color: var(--gold);
      box-shadow: 0 12px 30px rgba(255,215,0,0.3);
      transform: translateX(-5px);
    }

    .cart-item-name {
      font-size: 20px;
      font-weight: 900;
      color: var(--gold);
      margin-bottom: 12px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .cart-item-meta {
      color: var(--muted);
      font-size: 15px;
      margin-bottom: 18px;
      font-weight: 600;
    }

    .qty-controls {
      display: flex;
      align-items: center;
      gap: 18px;
      margin-top: 18px;
    }

    .qty-btn {
      width: 45px;
      height: 45px;
      background: rgba(255,215,0,.15);
      border: 2px solid var(--gold);
      border-radius: 12px;
      color: var(--gold);
      font-size: 22px;
      font-weight: 900;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .qty-btn:hover {
      background: rgba(255,215,0,.3);
      transform: scale(1.15);
      box-shadow: 0 6px 20px rgba(255,215,0,0.4);
    }

    .qty-value {
      font-size: 22px;
      font-weight: 900;
      min-width: 45px;
      text-align: center;
      color: var(--gold);
    }

    .remove-btn {
      background: linear-gradient(135deg, #e74c3c, #c0392b);
      border: none;
      padding: 12px 24px;
      border-radius: 12px;
      color: white;
      font-weight: 900;
      cursor: pointer;
      margin-top: 18px;
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      box-shadow: 0 4px 15px rgba(231,76,60,0.4);
    }

    .remove-btn:hover {
      background: linear-gradient(135deg, #c0392b, #a93226);
      transform: scale(1.05);
      box-shadow: 0 6px 20px rgba(231,76,60,0.6);
    }

    .drawer-footer {
      padding: 35px;
      border-top: 2px solid var(--glass-border);
      background: var(--glass-bg);
      backdrop-filter: blur(15px);
    }

    .total-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 22px;
      font-weight: 900;
      margin-bottom: 25px;
      color: var(--gold);
    }

    .total-amount {
      font-size: 42px;
      background: linear-gradient(135deg, var(--gold), var(--cyan));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: pulse 3s infinite;
      filter: drop-shadow(0 0 20px rgba(255,215,0,0.6));
    }

    .checkout-btn {
      width: 100%;
      background: linear-gradient(135deg, #2ecc71, #27ae60);
      border: none;
      padding: 20px;
      border-radius: 18px;
      color: white;
      font-size: 18px;
      font-weight: 900;
      cursor: pointer;
      margin-bottom: 18px;
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(46,204,113,0.4);
    }

    .checkout-btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: radial-gradient(circle, rgba(255,255,255,0.3), transparent);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    .checkout-btn:hover::before {
      width: 400px;
      height: 400px;
    }

    .checkout-btn:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 35px rgba(46,204,113,.6);
    }

    .clear-btn {
      width: 100%;
      background: rgba(255,255,255,.1);
      border: 2px solid rgba(255,255,255,.3);
      padding: 18px;
      border-radius: 18px;
      color: white;
      font-size: 16px;
      font-weight: 900;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .clear-btn:hover {
      background: rgba(255,255,255,.2);
      transform: translateY(-3px);
      border-color: var(--gold);
    }

    .empty-cart {
      text-align: center;
      padding: 60px 40px;
      color: var(--muted);
      font-size: 18px;
      line-height: 1.8;
    }

    /* Modal mejorado */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.9);
      backdrop-filter: blur(15px);
      z-index: 300;
      display: none;
      padding: 20px;
      overflow-y: auto;
    }

    .modal {
      max-width: 750px;
      margin: 60px auto;
      background: rgba(10,14,26,.98);
      backdrop-filter: blur(20px);
      border: 3px solid var(--gold);
      border-radius: 30px;
      overflow: hidden;
      animation: fadeIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      box-shadow: 0 25px 80px rgba(255,215,0,0.4);
    }

    .modal-header {
      padding: 35px;
      border-bottom: 2px solid var(--glass-border);
      background: var(--glass-bg);
      backdrop-filter: blur(15px);
    }

    .modal-title {
      font-size: 28px;
      font-weight: 900;
      background: linear-gradient(135deg, var(--gold), var(--cyan));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 12px;
      filter: drop-shadow(0 0 20px rgba(255,215,0,0.6));
    }

    .modal-subtitle {
      color: var(--muted);
      font-size: 16px;
      font-weight: 600;
    }

    .modal-body {
      padding: 35px;
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      margin-bottom: 24px;
    }

    @media (max-width: 768px) {
      .form-grid { grid-template-columns: 1fr; }
    }

    .form-field label {
      display: block;
      font-size: 14px;
      font-weight: 900;
      color: var(--gold);
      margin-bottom: 10px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .form-field input,
    .form-field select,
    .form-field textarea {
      width: 100%;
      padding: 16px;
      background: rgba(255,255,255,.05);
      border: 2px solid rgba(255,255,255,.2);
      border-radius: 15px;
      color: white;
      font-size: 15px;
      transition: all 0.3s;
      font-family: inherit;
    }

    .form-field select option {
      background: #1a1f35;
      color: white;
      padding: 12px;
    }

    .form-field input:focus,
    .form-field select:focus,
    .form-field textarea:focus {
      outline: none;
      border-color: var(--gold);
      background: rgba(255,255,255,.08);
      box-shadow: 0 0 25px rgba(255,215,0,0.3);
    }

    .form-field textarea {
      min-height: 130px;
      resize: vertical;
    }

    .modal-footer {
      padding: 25px 35px 35px;
      display: flex;
      gap: 18px;
      flex-wrap: wrap;
    }

    .modal-btn {
      flex: 1;
      min-width: 220px;
      padding: 20px;
      border: none;
      border-radius: 18px;
      font-size: 16px;
      font-weight: 900;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      text-transform: uppercase;
      position: relative;
      overflow: hidden;
    }

    .modal-btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: radial-gradient(circle, rgba(255,255,255,0.3), transparent);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    .modal-btn:hover::before {
      width: 500px;
      height: 500px;
    }

    .modal-btn-primary {
      background: rgba(0,217,255,.2);
      border: 2px solid var(--cyan);
      color: var(--cyan);
      box-shadow: 0 6px 20px rgba(0,217,255,0.3);
    }

    .modal-btn-primary:hover {
      background: rgba(0,217,255,.3);
      transform: translateY(-4px);
      box-shadow: 0 12px 30px rgba(0,217,255,0.5);
    }

    .modal-btn-success {
      background: linear-gradient(135deg, #2ecc71, #27ae60);
      color: white;
      box-shadow: 0 6px 20px rgba(46,204,113,0.4);
    }

    .modal-btn-success:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 35px rgba(46,204,113,.6);
    }

    /* Footer mejorado */
    .footer {
      text-align: center;
      padding: 40px 30px;
      color: var(--muted);
      font-size: 15px;
      border-top: 2px solid var(--glass-border);
      margin-top: 50px;
      background: var(--glass-bg);
      backdrop-filter: blur(15px);
    }

    .footer strong {
      color: var(--gold);
      font-weight: 900;
    }

    /* Responsive mejorado */
    @media (max-width: 768px) {
      .banner h1 { font-size: 48px; }
      .products-grid { grid-template-columns: 1fr; }
      .topbar-inner { padding: 15px 20px; }
      .banner { padding: 35px 20px 25px; }
      .products-section { padding: 30px 20px 35px; }
      .section-title { font-size: 32px; }
      .drawer { width: 100%; right: -100%; }
      .modal { margin: 30px auto; }
      .cart-message { font-size: 14px; padding: 12px 24px; }
    }

    /* Scrollbar personalizado */
    ::-webkit-scrollbar {
      width: 12px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(10,14,26,.8);
    }

    ::-webkit-scrollbar-thumb {
      background: linear-gradient(135deg, var(--gold), var(--cyan));
      border-radius: 10px;
      border: 2px solid rgba(10,14,26,.8);
    }

    ::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(135deg, var(--cyan), var(--pink));
    }
  </style>
</head>
<body>

  <!-- Topbar -->
  <div class="topbar">
    <div class="topbar-inner">
      <div class="logo">
        <div class="logo-dot"></div>
        <span>SICCHA STREAMING</span>
      </div>
      
      <nav class="nav">
        <a href="sorteos.html">üéÅ Sorteos</a>
        <a href="resultados.html">üèÜ Ganadores</a>
        <a href="ruleta.html">üé∞ Ruleta</a>
        <a href="admin.html">‚öôÔ∏è Admin</a>
      </nav>

      <button class="cart-btn" id="cartBtn">
        üõí CARRITO
        <span class="badge" id="cartCount">0</span>
      </button>
    </div>
  </div>

  <!-- Banner -->
  <div class="banner">
    <h1>üéä ¬°FELIZ A√ëO 2026! üéä</h1>
    <p>Comienza el nuevo a√±o con el mejor entretenimiento. Elige tu plataforma favorita y disfruta todo el contenido que quieras. ¬°Ofertas especiales para celebrar!</p>
    <div class="banner-features">
      <span class="feature">‚ö° Entrega Inmediata</span>
      <span class="feature">üí¨ Soporte 24/7</span>
      <span class="feature">üí∞ Mejores Precios</span>
    </div>
  </div>

  <!-- Productos -->
  <div class="products-section">
    <h2 class="section-title">üé¨ PLATAFORMAS DISPONIBLES</h2>
    <div class="products-grid" id="productsGrid"></div>
  </div>

  <!-- Footer -->
  <div class="footer">
    <p><strong>SICCHA STREAMING 2026</strong> | Todas las plataformas en un solo lugar</p>
    <p style="margin-top: 10px; font-size: 13px;">üéâ ¬°Feliz A√±o Nuevo! Gracias por tu preferencia üéä</p>
  </div>

  <!-- Drawer Carrito -->
  <div class="drawer-overlay" id="drawerOverlay"></div>
  <div class="drawer" id="drawer">
    <div class="drawer-header">
      <h3 class="drawer-title">üõí TU CARRITO</h3>
      <button class="close-btn" id="closeDrawer">‚úï</button>
    </div>
    <div class="drawer-body" id="cartBody"></div>
    <div class="drawer-footer">
      <div class="total-row">
        <span>TOTAL:</span>
        <span class="total-amount" id="cartTotal">S/ 0</span>
      </div>
      <button class="checkout-btn" id="checkoutBtn">‚úÖ FINALIZAR POR WHATSAPP</button>
      <button class="clear-btn" id="clearBtn">üóëÔ∏è Vaciar Carrito</button>
    </div>
  </div>

  <!-- Modal Compra -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title" id="modalTitle">COMPRAR AHORA</h3>
        <p class="modal-subtitle" id="modalSubtitle">Completa tus datos</p>
      </div>
      <div class="modal-body">
        <div class="form-grid">
          <div class="form-field">
            <label>üë§ Tu Nombre</label>
            <input type="text" id="inputNombre" placeholder="Ej: Juan P√©rez">
          </div>
          <div class="form-field">
            <label>üì± WhatsApp</label>
            <input type="text" id="inputWA" placeholder="Ej: 934574931">
          </div>
          <div class="form-field">
            <label>üî¢ Cantidad</label>
            <select id="inputQty">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select>
          </div>
          <div class="form-field">
            <label>‚è∞ Horario</label>
            <select id="inputHorario">
              <option value="Ahora">Ahora</option>
              <option value="En la tarde">En la tarde</option>
              <option value="En la noche">En la noche</option>
              <option value="Ma√±ana">Ma√±ana</option>
            </select>
          </div>
        </div>
        <div class="form-field">
          <label>üìù Notas Adicionales</label>
          <textarea id="inputNotas" placeholder="Ej: Es para Smart TV, necesito el correo..."></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="modal-btn modal-btn-primary" id="btnSendWA">üí¨ ENVIAR A WHATSAPP</button>
        <button class="modal-btn modal-btn-success" id="btnAddCart">üõí AGREGAR AL CARRITO</button>
      </div>
    </div>
  </div>

  <script>
    const WHATSAPP = "51934574931";
    const STORAGE_KEY = "siccha_cart";

    const products = [
      { id:"netflix", name:"NETFLIX", price:12, status:"DISPONIBLE", tag:"TOP", logo:"assets/netflix.png", desc:"Perfil premium HD ‚Ä¢ 4 pantallas" },
      { id:"prime", name:"PRIME VIDEO", price:8, status:"DISPONIBLE", tag:"OFERTA", logo:"assets/prime-video.png", desc:"Todo el cat√°logo Prime ‚Ä¢ Env√≠o gratis" },
      { id:"disney", name:"DISNEY+", price:12, status:"DISPONIBLE", tag:"FAMILIA", logo:"assets/disney.png", desc:"Disney, Marvel, Star Wars ‚Ä¢ 4K" },
      { id:"max", name:"HBO MAX", price:12, status:"DISPONIBLE", tag:"SERIES", logo:"assets/hbo-max.png", desc:"Las mejores series ‚Ä¢ HD Quality" },
      { id:"spotify", name:"SPOTIFY", price:12, status:"AGOTADO", tag:"AGOTADO", logo:"assets/spotify.png", desc:"M√∫sica sin l√≠mites ‚Ä¢ Premium" },
      { id:"crunchy", name:"CRUNCHYROLL", price:8, status:"DISPONIBLE", tag:"ANIME", logo:"assets/crunchyroll.png", desc:"Anime sin anuncios ‚Ä¢ Mega Fan" },
      { id:"vix", name:"VIX+", price:7, status:"DISPONIBLE", tag:"LATINO", logo:"assets/vix.png", desc:"Contenido en espa√±ol ‚Ä¢ Premium" },
      { id:"paramount", name:"PARAMOUNT+", price:7, status:"DISPONIBLE", tag:"PEL√çCULAS", logo:"assets/paramount.png", desc:"Pel√≠culas y series ‚Ä¢ HD" },
      { id:"dgo", name:"DGO + LIGA 1", price:19, status:"DISPONIBLE", tag:"DEPORTES", logo:"assets/dgo.png", desc:"F√∫tbol peruano en vivo ‚Ä¢ HD" }
    ];

    let cart = {};
    let currentProduct = null;

    function loadCart() {
      try {
        const data = localStorage.getItem(STORAGE_KEY);
        cart = data ? JSON.parse(data) : {};
      } catch(e) {
        cart = {};
      }
      updateCart();
    }

    function saveCart() {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(cart));
      updateCart();
    }

    function renderProducts() {
      const grid = document.getElementById('productsGrid');
      grid.innerHTML = products.map(p => {
        const disabled = p.status !== "DISPONIBLE";
        const tagClass = disabled ? "product-tag agotado" : "product-tag";
        return `
          <div class="product-card" data-product-id="${p.id}">
            <div class="product-header">
              <div class="product-logo" id="logo-${p.id}">
                <img src="${p.logo}" alt="${p.name}" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                <div class="product-logo-text" style="display:none">${p.name.substring(0,4)}</div>
              </div>
              <span class="${tagClass}">${p.tag}</span>
            </div>
            <div class="product-info">
              <h3 class="product-name">${p.name}</h3>
              <div class="product-price">S/ ${p.price}</div>
              <p class="product-desc">${p.desc}</p>
            </div>
            <div class="product-actions">
              <button class="btn btn-add" onclick="addToCart('${p.id}')" ${disabled ? 'disabled' : ''} data-id="${p.id}">
                ‚ûï AGREGAR${cart[p.id] ? ` (${cart[p.id]})` : ''}
              </button>
              <button class="btn btn-buy" onclick="openBuyModal('${p.id}')" ${disabled ? 'disabled' : ''}>
                üöÄ COMPRAR
              </button>
            </div>
          </div>
        `;
      }).join('');
    }

    // ========== FUNCIONES DE ANIMACI√ìN DEL CARRITO ==========
    
    function activateCartButton() {
      const cartBtn = document.getElementById('cartBtn');
      
      cartBtn.classList.add('cart-active');
      
      // Mensaje DEBAJO del bot√≥n - M√ÅS VISIBLE
      const message = document.createElement('div');
      message.className = 'cart-message';
      message.textContent = '‚úÖ AGREGADO AL CARRITO';
      cartBtn.appendChild(message);
      
      for (let i = 0; i < 3; i++) {
        setTimeout(() => {
          const wave = document.createElement('div');
          wave.className = 'cart-wave';
          cartBtn.appendChild(wave);
          
          setTimeout(() => wave.remove(), 1000);
        }, i * 200);
      }
      
      for (let i = 0; i < 12; i++) {
        const particle = document.createElement('div');
        particle.className = 'cart-particle';
        
        const angle = (360 / 12) * i;
        const distance = 100 + Math.random() * 50;
        const px = Math.cos(angle * Math.PI / 180) * distance;
        const py = Math.sin(angle * Math.PI / 180) * distance;
        
        particle.style.setProperty('--px', px + 'px');
        particle.style.setProperty('--py', py + 'px');
        
        const colors = ['var(--gold)', 'var(--cyan)', 'var(--pink)', 'var(--neon-purple)'];
        particle.style.background = colors[Math.floor(Math.random() * colors.length)];
        
        cartBtn.appendChild(particle);
        
        setTimeout(() => particle.remove(), 1000);
      }
      
      setTimeout(() => {
        message.remove();
        cartBtn.classList.remove('cart-active');
      }, 3000); // 3 segundos visible
    }

    function flyToCart(productId) {
      const productLogo = document.getElementById(`logo-${productId}`);
      const cartBtn = document.getElementById('cartBtn');
      
      if (!productLogo || !cartBtn) return;

      const logoRect = productLogo.getBoundingClientRect();
      const cartRect = cartBtn.getBoundingClientRect();

      const flyingItem = document.createElement('div');
      flyingItem.className = 'flying-item';
      
      const logoImg = productLogo.querySelector('img');
      if (logoImg && logoImg.style.display !== 'none') {
        const clonedImg = logoImg.cloneNode(true);
        flyingItem.appendChild(clonedImg);
      } else {
        const textDiv = document.createElement('div');
        textDiv.className = 'product-logo-text';
        textDiv.textContent = products.find(p => p.id === productId)?.name.substring(0, 4) || 'üé¨';
        textDiv.style.fontSize = '40px';
        textDiv.style.fontWeight = '900';
        flyingItem.appendChild(textDiv);
      }

      flyingItem.style.left = logoRect.left + logoRect.width / 2 - 40 + 'px';
      flyingItem.style.top = logoRect.top + logoRect.height / 2 - 40 + 'px';

      const deltaX = cartRect.left + cartRect.width / 2 - (logoRect.left + logoRect.width / 2);
      const deltaY = cartRect.top + cartRect.height / 2 - (logoRect.top + logoRect.height / 2);

      flyingItem.style.setProperty('--tx', deltaX + 'px');
      flyingItem.style.setProperty('--ty', deltaY + 'px');

      document.body.appendChild(flyingItem);

      setTimeout(() => {
        activateCartButton();
        
        const badge = document.getElementById('cartCount');
        badge.classList.add('animate');
        setTimeout(() => badge.classList.remove('animate'), 800);
      }, 700);

      setTimeout(() => {
        flyingItem.remove();
        showSuccessNotification();
      }, 1000);
    }

    function showSuccessNotification() {
      const notification = document.createElement('div');
      notification.className = 'success-notification';
      notification.innerHTML = '‚úÖ <span>¬°Agregado con √©xito!</span>';
      document.body.appendChild(notification);

      setTimeout(() => {
        notification.style.animation = 'fadeIn 0.3s reverse';
        setTimeout(() => notification.remove(), 300);
      }, 2500);
    }

    function addToCart(id) {
      const product = products.find(p => p.id === id);
      if (!product || product.status !== "DISPONIBLE") return;
      
      flyToCart(id);
      
      setTimeout(() => {
        cart[id] = (cart[id] || 0) + 1;
        saveCart();
      }, 600);
    }

    function increment(id) {
      cart[id] = (cart[id] || 0) + 1;
      saveCart();
    }

    function decrement(id) {
      if (!cart[id]) return;
      cart[id]--;
      if (cart[id] <= 0) delete cart[id];
      saveCart();
    }

    function removeFromCart(id) {
      delete cart[id];
      saveCart();
    }

    function clearCart() {
      if (confirm('¬øSeguro que quieres vaciar el carrito?')) {
        cart = {};
        saveCart();
      }
    }

    function updateCart() {
      const count = Object.values(cart).reduce((a, b) => a + b, 0);
      document.getElementById('cartCount').textContent = count;
      
      const body = document.getElementById('cartBody');
      const items = Object.entries(cart).map(([id, qty]) => {
        const p = products.find(x => x.id === id);
        return p ? { ...p, qty } : null;
      }).filter(Boolean);

      if (items.length === 0) {
        body.innerHTML = '<div class="empty-cart">üõí<br><br>Tu carrito est√° vac√≠o<br>¬°Agrega algunas plataformas!</div>';
      } else {
        body.innerHTML = items.map(item => `
          <div class="cart-item">
            <div class="cart-item-name">${item.name}</div>
            <div class="cart-item-meta">S/ ${item.price} √ó ${item.qty} = <strong>S/ ${item.price * item.qty}</strong></div>
            <div class="qty-controls">
              <button class="qty-btn" onclick="decrement('${item.id}')">‚àí</button>
              <span class="qty-value">${item.qty}</span>
              <button class="qty-btn" onclick="increment('${item.id}')">+</button>
            </div>
            <button class="remove-btn" onclick="removeFromCart('${item.id}')">üóëÔ∏è Eliminar</button>
          </div>
        `).join('');
      }

      const total = items.reduce((sum, item) => sum + (item.price * item.qty), 0);
      document.getElementById('cartTotal').textContent = `S/ ${total}`;

      products.forEach(p => {
        const btn = document.querySelector(`[data-id="${p.id}"]`);
        if (btn && !btn.disabled) {
          btn.textContent = cart[p.id] ? `‚ûï AGREGAR (${cart[p.id]})` : '‚ûï AGREGAR';
        }
      });
    }

    function openDrawer() {
      document.getElementById('drawerOverlay').style.display = 'block';
      setTimeout(() => {
        document.getElementById('drawer').classList.add('open');
      }, 10);
    }

    function closeDrawer() {
      document.getElementById('drawer').classList.remove('open');
      setTimeout(() => {
        document.getElementById('drawerOverlay').style.display = 'none';
      }, 500);
    }

    function checkout() {
      const items = Object.entries(cart).map(([id, qty]) => {
        const p = products.find(x => x.id === id);
        return p ? { ...p, qty } : null;
      }).filter(Boolean);

      if (items.length === 0) {
        alert('Tu carrito est√° vac√≠o');
        return;
      }

      const total = items.reduce((sum, item) => sum + (item.price * item.qty), 0);
      const lines = items.map(item => `- ${item.name} x${item.qty} = S/ ${item.price * item.qty}`).join('%0A');
      
      const msg = `Hola! Quiero realizar un pedido en SICCHA STREAMING%0A%0A` +
        `MI PEDIDO:%0A` +
        `${lines}%0A%0A` +
        `TOTAL A PAGAR: S/ ${total}%0A%0A` +
        `Feliz A√±o Nuevo 2026!%0A%0A` +
        `Espero su respuesta. Gracias!`;
      
      window.location.href = `https://wa.me/${WHATSAPP}?text=${msg}`;
    }

    function openBuyModal(id) {
      const product = products.find(p => p.id === id);
      if (!product || product.status !== "DISPONIBLE") return;
      
      currentProduct = product;
      document.getElementById('modalTitle').textContent = `COMPRAR: ${product.name}`;
      document.getElementById('modalSubtitle').textContent = `Precio: S/ ${product.price} ‚Ä¢ ${product.desc}`;
      document.getElementById('inputNombre').value = '';
      document.getElementById('inputWA').value = '';
      document.getElementById('inputQty').value = '1';
      document.getElementById('inputHorario').value = 'Ahora';
      document.getElementById('inputNotas').value = '';
      document.getElementById('modalOverlay').style.display = 'block';
    }

    function closeModal() {
      document.getElementById('modalOverlay').style.display = 'none';
      currentProduct = null;
    }

    function sendToWhatsApp() {
      if (!currentProduct) return;

      const nombre = document.getElementById('inputNombre').value.trim();
      const wa = document.getElementById('inputWA').value.trim();
      const qty = parseInt(document.getElementById('inputQty').value);
      const horario = document.getElementById('inputHorario').value;
      const notas = document.getElementById('inputNotas').value.trim();
      const total = currentProduct.price * qty;

      let msg = `Hola! Quiero comprar en SICCHA STREAMING%0A%0A` +
        `PRODUCTO: ${currentProduct.name}%0A` +
        `Cantidad: ${qty}%0A` +
        `Precio Total: S/ ${total}%0A`;
      
      if (nombre) msg += `%0ANombre: ${nombre}%0A`;
      if (wa) msg += `WhatsApp: ${wa}%0A`;
      msg += `Horario: ${horario}%0A`;
      if (notas) msg += `Notas: ${notas}%0A`;
      
      msg += `%0AFeliz A√±o Nuevo 2026!%0A%0AGracias!`;

      window.location.href = `https://wa.me/${WHATSAPP}?text=${msg}`;
    }

    function addFromModal() {
      if (!currentProduct) return;
      
      const qty = parseInt(document.getElementById('inputQty').value);
      cart[currentProduct.id] = (cart[currentProduct.id] || 0) + qty;
      saveCart();
      closeModal();
      
      flyToCart(currentProduct.id);
    }

    // Event Listeners
    document.getElementById('cartBtn').addEventListener('click', openDrawer);
    document.getElementById('closeDrawer').addEventListener('click', closeDrawer);
    document.getElementById('drawerOverlay').addEventListener('click', closeDrawer);
    document.getElementById('clearBtn').addEventListener('click', clearCart);
    document.getElementById('checkoutBtn').addEventListener('click', checkout);
    document.getElementById('btnSendWA').addEventListener('click', sendToWhatsApp);
    document.getElementById('btnAddCart').addEventListener('click', addFromModal);
    document.getElementById('modalOverlay').addEventListener('click', (e) => {
      if (e.target.id === 'modalOverlay') closeModal();
    });

    // Inicializar
    loadCart();
    renderProducts();
  </script>
</body>
</html>
